# GaluchatAPI


GatuchatAPIは、地図情報の参照APIを提供するシステムです。
以下の機能を提供します。

- 行政区域コードの逆ジオコーディング機能
- JARLコンテストコードの逆ジオコーディング機能
- 簡易的な行政区域地図の生成機能
- RawLevelAPI呼び出し機能

## 利用条件

- 管理者は、利用者がAPIを用いて行う一切の行為について何ら責任を負うものではありません。本サービスは予告なく変更・削除される場合があります。

- ソフトウェアの動作確認を目的として、送信化されるリクエストを記録しています。不要な情報を送信しないでください。
- 継続して機械的なスクレイピングを行うことは禁止します。第三者に公開するWebサイト、アプリケーションからの直接アクセスは基本的に許可しますが、状況に応じて制限することがあります。継続的に利用する場合は代理サーバの設置を検討してください。
- 取得したデータのうち、座標及びコード情報は国土地理院の提供条件に従って運用してください。その他の情報については出典を参考に適切に運用してください。👉[国土地理院コンテンツ利用規約](https://www.gsi.go.jp/kikakuchousei/kikakuchousei40182.html)

- 継続的な業務用途でのご利用は管理者に相談することをお勧めします。

- APIリミット、その他技術的な制限については、[現在のサーバー設定](./current_mapset_list)をご覧ください。


# APIs
提供するAPIの仕様は以下の通りです。

## システムAPI
| エンドポイント|メソッド |機能|
| -------------|-| ------------- |
| [/apispec](./apis/apispec.md) |GET| APIの機能情報をJSONにして返します。 |


## 逆ジオコーディングAPI
経緯度から情報を得るAPIです。

| エンドポイント|メソッド |機能|
| -------------|-| ------------- |
| [/raac](./apis/racc.md)  |GET| 経緯度から行政区域コードと行政区名を返します。|
| [/rjcc](./apis/rjcc.md)  |GET| 経緯度からJARLコンテストコードと区域名を返します。|
| [/raacs](./apis/raacs.md) |POST| 経緯度リストから行政区域コードをと区域名のリストを返します。|
| [/rjccs](./apis/rjccs.md) |POST| 経緯度リストからJARLコンテストコードと区域名のリストを返します。|


## マップ画像生成API
領域からマップ画像を生成するAPIです。

| エンドポイント|メソッド |機能|
| -------------|-| ------------- |
| [/mapgen](./apis/mapgen.md) |GET| 経緯度を起点として、領域画像を生成します。|



## RawLevelAPI
RawlevelAPIは開発用です。アプリケーションは使用すべきではありません。

| エンドポイント|メソッド |機能|
| -------------|-| ------------- |
| /getpoint |GET| 座標に対応する値を返します。  |
| /getrect |GET| 起点及びサイズで定義される領域内にある座標の値を、PNG形式に格納して返します。 |


## API共通仕様

### エンドポイント

1. http://galuchatapi.nyatla.jp/
2. https://galuchatapi.nyatla.jp/

### 値型
- [URLパラメータの値型](./valuetype.md)

### レスポンスコード

HTTPレベルでは、成功時はステータス200を返します。

失敗時は40x、または50xを返し、可能であればJSONによる詳細情報を返します。











# 出典

APIが生成する情報の元データは以下のものを使用しています。

1. 国土交通省国土数値情報ダウンロードサイト  
   国土交通省国土数値情報を加工・編集した地図情報を使用しています。  
   https://nlftp.mlit.go.jp/ksj/index.html
2. w-ockham/JCC-JCG-List     
   munitable.csvを加工・編集した地図情報を使用しています。  
   https://github.com/w-ockham/JCC-JCG-List/blob/master/LICENSE





# その他資料

1. 行政区域コード  
   https://nlftp.mlit.go.jp/ksj/gml/codelist/AdminiBoundary_CD.xlsx
2. JARLコンテストコード  
   https://www.jarl.org/Japanese/A_Shiryo/A-2_jcc-jcg/jcc.htm





